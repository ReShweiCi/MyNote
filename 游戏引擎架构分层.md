# 游戏引擎架构分层 22.11.1
## 工具层 Tool Layer
1. 让所有人都能使用引擎来制作游戏
2. 除了提供自己的编辑器外还需要适配第三方资产生产工具(Digital Content Creation)
## 功能层 Function Layer
1. <b>通过Tick来使世界运行</b>
2. 逻辑和渲染分离
3. 功能层功能繁多
   1. 提供游戏引擎的主要模块
   2. 定期更新游戏主循环(阅读引擎源码从主循环下手)
   3. 模糊了游戏和游戏引擎的边界
4. 多线程
## 资源层 Resource Layer
1. 如何读取数据
   1. 定义元资产格式来组织文件(如.ast)
   2. 导入预处理来加快读取速度
   3. 构建一个与所有资源文件关联的复合资产文件
   4. 利用GUID来唯一识别某资产
2. 实时资产管理器
   1. 是一个通过参考路径来加载/卸载资产的虚拟文件系统
   2. 通过handle系统来管理资产生命周期
3. 管理资产生命周期
   1. 不同的资源有不同的生命周期
   2. 需要及时释放加载的资源
   3. 垃圾回收
## 核心层 Core Layer
1. 数学库
2. 数据结构和容器
3. 内存管理
   1. 引擎性能的主要瓶颈
   2. 提高效率的方法
      1. 把数据放在一起(减少内存空洞)
      2. 按顺序读取数据
      3. 整块整块地分配/解除分配内存
4. 游戏引擎的基础
## 平台层 Platform Layer
1. 为上层提供独立于各种平台的服务和信息以适配各种系统
2. 提供图形API Render Hardware Interface以适配不同的GPU或SDK
3. 适配不同的硬件结构
## 中间软件和第三方库 Middleware and 3rd Party Libraries 
## 为什么游戏引擎要分层？
1. 减少复杂度
   1. 底层独立于上层(底层不能依赖上层)
   2. 上层不用管底层如何实现
2. 便于更新迭代
   1. <b>上层更新更快，底层更稳定</b>
